"""
ê°œì¸ì •ë³´ ìˆ˜ì§‘ ìœ íš¨ê¸°ê°„

ðŸ’› ë¬¸ì œ
ê³ ê°ì˜ ì•½ê´€ ë™ì˜ë¥¼ ì–»ì–´ì„œ ìˆ˜ì§‘ëœ 1~në²ˆìœ¼ë¡œ ë¶„ë¥˜ë˜ëŠ” ê°œì¸ì •ë³´ nê°œê°€ ìžˆìŠµë‹ˆë‹¤. 
ì•½ê´€ ì¢…ë¥˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ìžˆìœ¼ë©° ê° ì•½ê´€ë§ˆë‹¤ ê°œì¸ì •ë³´ ë³´ê´€ ìœ íš¨ê¸°ê°„ì´ ì •í•´ì ¸ ìžˆìŠµë‹ˆë‹¤. 
ë‹¹ì‹ ì€ ê° ê°œì¸ì •ë³´ê°€ ì–´ë–¤ ì•½ê´€ìœ¼ë¡œ ìˆ˜ì§‘ëëŠ”ì§€ ì•Œê³  ìžˆìŠµë‹ˆë‹¤.

ìˆ˜ì§‘ëœ ê°œì¸ì •ë³´ëŠ” ìœ íš¨ê¸°ê°„ ì „ê¹Œì§€ë§Œ ë³´ê´€ ê°€ëŠ¥í•˜ë©°, ìœ íš¨ê¸°ê°„ì´ ì§€ë‚¬ë‹¤ë©´ ë°˜ë“œì‹œ íŒŒê¸°í•´ì•¼ í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, Aë¼ëŠ” ì•½ê´€ì˜ ìœ íš¨ê¸°ê°„ì´ 12 ë‹¬ì´ê³ , 2021ë…„ 1ì›” 5ì¼ì— ìˆ˜ì§‘ëœ ê°œì¸ì •ë³´ê°€ Aì•½ê´€ìœ¼ë¡œ ìˆ˜ì§‘ë˜ì—ˆë‹¤ë©´ 
í•´ë‹¹ ê°œì¸ì •ë³´ëŠ” 2022ë…„ 1ì›” 4ì¼ê¹Œì§€ ë³´ê´€ ê°€ëŠ¥í•˜ë©° 2022ë…„ 1ì›” 5ì¼ë¶€í„° íŒŒê¸°í•´ì•¼ í•  ê°œì¸ì •ë³´ìž…ë‹ˆë‹¤.
ë‹¹ì‹ ì€ ì˜¤ëŠ˜ ë‚ ì§œë¡œ íŒŒê¸°í•´ì•¼ í•  ê°œì¸ì •ë³´ ë²ˆí˜¸ë“¤ì„ êµ¬í•˜ë ¤ í•©ë‹ˆë‹¤.

ëª¨ë“  ë‹¬ì€ 28ì¼ê¹Œì§€ ìžˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.

ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ì˜ë¯¸í•˜ëŠ” ë¬¸ìžì—´ today, ì•½ê´€ì˜ ìœ íš¨ê¸°ê°„ì„ ë‹´ì€ 1ì°¨ì› ë¬¸ìžì—´ ë°°ì—´ termsì™€ 
ìˆ˜ì§‘ëœ ê°œì¸ì •ë³´ì˜ ì •ë³´ë¥¼ ë‹´ì€ 1ì°¨ì› ë¬¸ìžì—´ ë°°ì—´ privaciesê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§‘ë‹ˆë‹¤.

ì´ë•Œ íŒŒê¸°í•´ì•¼ í•  ê°œì¸ì •ë³´ì˜ ë²ˆí˜¸ë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ 1ì°¨ì› ì •ìˆ˜ ë°°ì—´ì— ë‹´ì•„ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•´ ì£¼ì„¸ìš”.

ðŸ§¡ ì œí•œ ì‚¬í•­
todayëŠ” "YYYY.MM.DD" í˜•íƒœë¡œ ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
1 â‰¤ termsì˜ ê¸¸ì´ â‰¤ 20
    termsì˜ ì›ì†ŒëŠ” "ì•½ê´€ ì¢…ë¥˜ ìœ íš¨ê¸°ê°„" í˜•íƒœì˜ ì•½ê´€ ì¢…ë¥˜ì™€ ìœ íš¨ê¸°ê°„ì„ ê³µë°± í•˜ë‚˜ë¡œ êµ¬ë¶„í•œ ë¬¸ìžì—´ìž…ë‹ˆë‹¤.
    ì•½ê´€ ì¢…ë¥˜ëŠ” A~Zì¤‘ ì•ŒíŒŒë²³ ëŒ€ë¬¸ìž í•˜ë‚˜ì´ë©°, terms ë°°ì—´ì—ì„œ ì•½ê´€ ì¢…ë¥˜ëŠ” ì¤‘ë³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    ìœ íš¨ê¸°ê°„ì€ ê°œì¸ì •ë³´ë¥¼ ë³´ê´€í•  ìˆ˜ ìžˆëŠ” ë‹¬ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ì´ë©°, 1 ì´ìƒ 100 ì´í•˜ìž…ë‹ˆë‹¤.
1 â‰¤ privaciesì˜ ê¸¸ì´ â‰¤ 100
    privacies[i]ëŠ” i+1ë²ˆ ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ì¼ìžì™€ ì•½ê´€ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
    privaciesì˜ ì›ì†ŒëŠ” "ë‚ ì§œ ì•½ê´€ ì¢…ë¥˜" í˜•íƒœì˜ ë‚ ì§œì™€ ì•½ê´€ ì¢…ë¥˜ë¥¼ ê³µë°± í•˜ë‚˜ë¡œ êµ¬ë¶„í•œ ë¬¸ìžì—´ìž…ë‹ˆë‹¤.
    ë‚ ì§œëŠ” "YYYY.MM.DD" í˜•íƒœì˜ ê°œì¸ì •ë³´ê°€ ìˆ˜ì§‘ëœ ë‚ ì§œë¥¼ ë‚˜íƒ€ë‚´ë©°, today ì´ì „ì˜ ë‚ ì§œë§Œ ì£¼ì–´ì§‘ë‹ˆë‹¤.
    privaciesì˜ ì•½ê´€ ì¢…ë¥˜ëŠ” í•­ìƒ termsì— ë‚˜íƒ€ë‚œ ì•½ê´€ ì¢…ë¥˜ë§Œ ì£¼ì–´ì§‘ë‹ˆë‹¤.
todayì™€ privaciesì— ë“±ìž¥í•˜ëŠ” ë‚ ì§œì˜ YYYYëŠ” ì—°ë„, MMì€ ì›”, DDëŠ” ì¼ì„ ë‚˜íƒ€ë‚´ë©° ì (.) í•˜ë‚˜ë¡œ êµ¬ë¶„ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.
    2000 â‰¤ YYYY â‰¤ 2022
    1 â‰¤ MM â‰¤ 12
    MMì´ í•œ ìžë¦¿ìˆ˜ì¸ ê²½ìš° ì•žì— 0ì´ ë¶™ìŠµë‹ˆë‹¤.
    1 â‰¤ DD â‰¤ 28
    DDê°€ í•œ ìžë¦¿ìˆ˜ì¸ ê²½ìš° ì•žì— 0ì´ ë¶™ìŠµë‹ˆë‹¤.
íŒŒê¸°í•´ì•¼ í•  ê°œì¸ì •ë³´ê°€ í•˜ë‚˜ ì´ìƒ ì¡´ìž¬í•˜ëŠ” ìž…ë ¥ë§Œ ì£¼ì–´ì§‘ë‹ˆë‹¤.

ðŸ’š ìž…ì¶œë ¥
today	        terms	                privacies	                                                                        result
"2022.05.19"	["A 6", "B 12", "C 3"]	["2021.05.02 A", "2021.07.01 B", "2022.02.19 C", "2022.02.20 C"]	                [1, 3]
"2020.01.01"	["Z 3", "D 5"]	        ["2019.01.01 D", "2019.11.15 Z", "2019.08.02 D", "2019.07.01 D", "2018.12.28 Z"]    [1, 4, 5]
"""
def solution(today, terms, privacies):
    answer = []
    
    y, m, d = today.split(".")
    y, m = int(y), int(m)
    
    # ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ì˜ë¯¸í•˜ëŠ” ë¬¸ìžì—´ today, ì•½ê´€ì˜ ìœ íš¨ê¸°ê°„ì„ ë‹´ì€ 1ì°¨ì› ë¬¸ìžì—´ ë°°ì—´ terms
    # ìˆ˜ì§‘ëœ ê°œì¸ì •ë³´ì˜ ì •ë³´ë¥¼ ë‹´ì€ 1ì°¨ì› ë¬¸ìžì—´ ë°°ì—´ privacies
    
    # input ê°’ë“¤ì„ ì „ì²˜ë¦¬ í•´ì¤€ë‹¤ ì˜ˆì˜ê²Œ ë‹¤ì‹œ split í•´ì„œ ìƒˆ ë°°ì—´ ì•ˆìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤
    terms_temp = []

    
    for i in range(len(terms)) :
        a, b = terms[i].split(" ")
        # [['A', 6], ['B', 12], ['C', 3]]
        terms_temp.append([a, int(b)])
    
    privacies_temp = []
    for i in range(len(privacies)) :
        a, b = privacies[i].split(" ")
        y, m, d = a.split(".")
        # [[2021, 5, 2, 'A'], [2021, 7, 1, 'B'], [2022, 2, 19, 'C'], [2022, 2, 20, 'C']]
        privacies_temp.append([int(y), int(m), d, b])

    new_privacies_temp = [[] for _ in range(len(privacies))] 
    # ìœ íš¨ ê¸°ê°„ ìž…ë ¥í•˜ê¸°
    for i in range(len(terms_temp)) :
        for j in range(len(privacies_temp)) :
            temp = []
            # ì•½ê´€ ì¢…ë¥˜ ë¹„êµí•˜ê¸°
            if terms_temp[i][0] == privacies_temp[j][3] :
                # ì•½ê´€ ìœ íš¨ ê¸°ê´€ (ë‹¬) ë”í•˜ê¸°
                yy = privacies_temp[j][1] + terms_temp[i][1]
                # 12ê°œì›” (1ë…„) ì„ ì§€ë‚œë‹¤ë©´ ë…„ë„ +1
                if yy > 12 :
                    privacies_temp[j][0] += 1
                    yy -= 12
                temp = [privacies_temp[j][0], str(yy).zfill(2), privacies_temp[j][2]]
                # ['2021.11.02', '2022.7.01', '2022.5.19', '2022.5.20']
                new_privacies_temp[j] = ".".join(map(str, temp))

    # ì˜¤ëŠ˜ ë‚ ì§œì™€ ë¹„êµí•˜ê¸°
    for i in range(len(new_privacies_temp)) :
        if today >= new_privacies_temp[i] :
            answer.append(i+1)
            
    return answer