"""
ìƒë‹´ì› ì¸ì›

ğŸ’› ë¬¸ì œ
í˜„ëŒ€ëª¨ë¹„ìŠ¤ëŠ” ìš°ìˆ˜í•œ SW ì¸ì¬ ì±„ìš©ì„ ìœ„í•´ ìƒì‹œë¡œ ì±„ìš© ì„¤ëª…íšŒë¥¼ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
ì±„ìš© ì„¤ëª…íšŒì—ì„œëŠ” ì±„ìš©ê³¼ ê´€ë ¨ëœ ìƒë‹´ì„ ì›í•˜ëŠ” ì°¸ê°€ìì—ê²Œ ë©˜í† ì™€ 1:1ë¡œ ìƒë‹´í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤.
ì±„ìš© ì„¤ëª…íšŒì—ëŠ” ë©˜í†  nëª…ì´ ìˆìœ¼ë©°, 1~kë²ˆìœ¼ë¡œ ë¶„ë¥˜ë˜ëŠ” ìƒë‹´ ìœ í˜•ì´ ìˆìŠµë‹ˆë‹¤. 
ê° ë©˜í† ëŠ” kê°œì˜ ìƒë‹´ ìœ í˜• ì¤‘ í•˜ë‚˜ë§Œ ë‹´ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ë©˜í† ëŠ” ìì‹ ì´ ë‹´ë‹¹í•˜ëŠ” ìœ í˜•ì˜ ìƒë‹´ë§Œ ê°€ëŠ¥í•˜ë©°, ë‹¤ë¥¸ ìœ í˜•ì˜ ìƒë‹´ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. 
ë©˜í† ëŠ” ë™ì‹œì— ì°¸ê°€ì í•œ ëª…ê³¼ë§Œ ìƒë‹´ ê°€ëŠ¥í•˜ë©°, ìƒë‹´ ì‹œê°„ì€ ì •í™•íˆ ì°¸ê°€ìê°€ ìš”ì²­í•œ ì‹œê°„ë§Œí¼ ê±¸ë¦½ë‹ˆë‹¤.

ì°¸ê°€ìê°€ ìƒë‹´ ìš”ì²­ì„ í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê·œì¹™ëŒ€ë¡œ ìƒë‹´ì„ ì§„í–‰í•©ë‹ˆë‹¤.
    ìƒë‹´ì„ ì›í•˜ëŠ” ì°¸ê°€ìê°€ ìƒë‹´ ìš”ì²­ì„ í–ˆì„ ë•Œ, 
    ì°¸ê°€ìì˜ ìƒë‹´ ìœ í˜•ì„ ë‹´ë‹¹í•˜ëŠ” ë©˜í†  ì¤‘ ìƒë‹´ ì¤‘ì´ ì•„ë‹Œ ë©˜í† ì™€ ìƒë‹´ì„ ì‹œì‘í•©ë‹ˆë‹¤.
    
    ë§Œì•½ ì°¸ê°€ìì˜ ìƒë‹´ ìœ í˜•ì„ ë‹´ë‹¹í•˜ëŠ” ë©˜í† ê°€ ëª¨ë‘ ìƒë‹´ ì¤‘ì´ë¼ë©´, ìì‹ ì˜ ì°¨ë¡€ê°€ ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.
    ì°¸ê°€ìê°€ ê¸°ë‹¤ë¦° ì‹œê°„ì€ ì°¸ê°€ìê°€ ìƒë‹´ ìš”ì²­í–ˆì„ ë•Œë¶€í„° ë©˜í† ì™€ ìƒë‹´ì„ ì‹œì‘í•  ë•Œê¹Œì§€ì˜ ì‹œê°„ì…ë‹ˆë‹¤.

    ëª¨ë“  ë©˜í† ëŠ” ìƒë‹´ì´ ëë‚¬ì„ ë•Œ ìì‹ ì˜ ìƒë‹´ ìœ í˜•ì˜ ìƒë‹´ì„ ë°›ê¸° ìœ„í•´ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ì°¸ê°€ìê°€ ìˆìœ¼ë©´ ì¦‰ì‹œ ìƒë‹´ì„ ì‹œì‘í•©ë‹ˆë‹¤. 
    ì´ë•Œ, ë¨¼ì € ìƒë‹´ ìš”ì²­í•œ ì°¸ê°€ìê°€ ìš°ì„ ë©ë‹ˆë‹¤.

ì°¸ê°€ìì˜ ìƒë‹´ ìš”ì²­ ì •ë³´ê°€ ì£¼ì–´ì§ˆ ë•Œ, 
ì°¸ê°€ìê°€ ìƒë‹´ì„ ìš”ì²­í–ˆì„ ë•Œë¶€í„° ìƒë‹´ì„ ì‹œì‘í•˜ê¸°ê¹Œì§€ ê¸°ë‹¤ë¦° ì‹œê°„ì˜ í•©ì´ ìµœì†Œê°€ ë˜ë„ë¡ 
ê° ìƒë‹´ ìœ í˜•ë³„ë¡œ ë©˜í†  ì¸ì›ì„ ì •í•˜ë ¤ í•©ë‹ˆë‹¤. 
ë‹¨, ê° ìœ í˜•ë³„ë¡œ ë©˜í†  ì¸ì›ì´ ì ì–´ë„ í•œ ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.

ğŸ§¡ ì œí•œ ì‚¬í•­
1 â‰¤ k â‰¤ 5
k â‰¤ n â‰¤ 20
3 â‰¤ reqsì˜ ê¸¸ì´ â‰¤ 300
    reqsì˜ ì›ì†ŒëŠ” [a, b, c] í˜•íƒœì˜ ê¸¸ì´ê°€ 3ì¸ ì •ìˆ˜ ë°°ì—´ì´ë©°, cë²ˆ ìœ í˜•ì˜ ìƒë‹´ì„ ì›í•˜ëŠ” ì°¸ê°€ìê°€ aë¶„ì— bë¶„ ë™ì•ˆì˜ ìƒë‹´ì„ ìš”ì²­í–ˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
    1 â‰¤ a â‰¤ 1,000
    1 â‰¤ b â‰¤ 100
    1 â‰¤ c â‰¤ k
    reqsëŠ” aë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
    reqs ë°°ì—´ì—ì„œ aëŠ” ì¤‘ë³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¦‰, ì°¸ê°€ìê°€ ìƒë‹´ ìš”ì²­í•œ ì‹œê°ì€ ëª¨ë‘ ë‹¤ë¦…ë‹ˆë‹¤.

ğŸ’š ì…ì¶œë ¥
k	n	reqs	                                                            result
3	5	[[10, 60, 1], [15, 100, 3], [20, 30, 1], [30, 50, 3], [50, 40, 1],  25
        [60, 30, 2], [65, 30, 1], [70, 100, 2]]	
2	3	[[5, 55, 2], [10, 90, 2], [20, 40, 2], [50, 45, 2], [100, 50, 2]]	90
"""

# combinations(iterable, r) : ì›ì†Œì˜ ìˆ˜ê°€ rê°œì¸ ì¡°í•©
# combinations_with_replacement(iterable, r) : ì›ì†Œì˜ ìˆ˜ê°€ rê°œì¸ ì¤‘ë³µ ì¡°í•©
# permutations(iterable, r) : ëª‡ ê°œë¥¼ ê³¨ë¼ ìˆœì„œë¥¼ ê³ ë ¤í•´ ë‚˜ì—´í•œ ê²½ìš°ì˜ ìˆ˜ (ìˆœì—´)
# heap ì´ìš©í•´ ìƒë‹´ ì‹œê°„ì´ ë¹ ë¥´ê²Œ ëë‚˜ëŠ” ë©˜í† ì™€ ëŒ€ê¸°ìì˜ ìƒë‹´ ì‹œê°„ì„ ë¹„êµí•˜ì—¬ ëŒ€ê¸° ì‹œê°„ êµ¬í•˜ê¸°

import heapq
from itertools import combinations_with_replacement, permutations

# ìƒë‹´ ìœ í˜•ì˜ ìˆ˜ k, ë©˜í† ì˜ ìˆ˜ n, ì°¸ê°€ìì˜ ìƒë‹´ ìš”ì²­ì„ ë‹´ì€ 2ì°¨ì› ì •ìˆ˜ ë°°ì—´ reqs
def solution(k, n, reqs):
    answer = 1e9

    consulting = [[] for _ in range(k)]
    # [a, b, c] í˜•íƒœì˜ ê¸¸ì´ê°€ 3ì¸ ì •ìˆ˜ ë°°ì—´
    # cë²ˆ ìœ í˜•ì˜ ìƒë‹´ì„ ì›í•˜ëŠ” ì°¸ê°€ìê°€ aë¶„ì— bë¶„ ë™ì•ˆì˜ ìƒë‹´ì„ ìš”ì²­
    for i in reqs:
        # consulting[ìœ í˜•ë³„] = [ì‹œê°„, ìƒë‹´ì‹œê°„]
        # [[[10, 60], [20, 30], [50, 40], [65, 30]], [[60, 30], [70, 100]], [[15, 100], [30, 50]]]
        consulting[i[2] - 1].append([i[0], i[1]])
    # ë©˜í†  ë°°ì¹˜
    mento = set()
    # ìµœì†Œ ê° ìœ í˜•ì— ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ë©˜í†  ìˆ˜ (ê° ìœ í˜•ë³„ë¡œ ë©˜í†  ì¸ì›ì´ ì ì–´ë„ í•œ ëª… ì´ìƒì´ì–´ì•¼ í•¨)
    arr = [i for i in range(1, n - k + 2)]    
    
    # ex) k = 3 ì´ë¼ë©´, ì¤‘ë³µ ì¡°í•© -> (1, 1, 3), (1, 2, 2) ...
    for mem in combinations_with_replacement(arr, k):
        # ìµœì†Œ ê° ìœ í˜•ì— ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ë©˜í†  ìˆ˜ & ì¤‘ë³µ ì¡°í•© ëœ ê²½ìš°ì˜ ìˆ˜ í•©ì´ ë©˜í†  ìˆ˜ì™€ ê°™ì€ì§€
        if mem not in mento and sum(mem) == n:
            # ê°€ëŠ¥í•œ ëª¨ë“  ìˆœì„œë¥¼ ë°˜í™˜ (ìˆœì—´)
            for p in permutations(mem, k):
                mento.add(p)
    print(consulting)
    # mento : {(1, 1, 3), (1, 3, 1), (1, 2, 2), (2, 1, 2), (2, 2, 1), (3, 1, 1)}
    for case in mento:
        result = 0

        for i in range(k):
            # ë©˜í† ì˜ ìˆ˜ [0], [0, 0, 0] ...
            heap = [0] * case[i]
            
            # consulting[ìƒë‹´ ìœ í˜•] : [ì‹œê°„, ìƒë‹´ ì‹œê°„]
            for startTime, consultingTime in consulting[i]:
                # ëª¨ë“  ê°’ì„ popí•œ ê²°ê³¼ë¥¼ ë³´ë©´, ì‘ì€ ê°’ ìˆœì„œ(ì˜¤ë¦„ì°¨ìˆœ)ë¡œ ì¶œë ¥ëœ ê²ƒ
                prev = heapq.heappop(heap)
                # ì‹œì‘ì‹œê°„ì´ ì´ì „ ì¢…ë£Œ ì‹œê°„ë³´ë‹¤ ì‘ë‹¤ë©´ ë°”ë¡œ ì§„í–‰
                if startTime >= prev:
                    # ì¶”ê°€ëœ ì›ì†Œê°€ ë¶€ëª¨ë³´ë‹¤ ì‘ìœ¼ë©´ (ìµœì†Œ) í™ êµ¬ì¡°ê°€ ì•„ë‹ˆë¯€ë¡œ, ë¶€ëª¨ì™€ ìë¦¬ë¥¼ ë°”ê¾¼ë‹¤
                    heapq.heappush(heap, startTime + consultingTime)
                # ëŒ€ê¸° ì‹œê°„ ì¶”ê°€
                else:    
                    result += prev - startTime
                    heapq.heappush(heap, prev + consultingTime)
        
        # ì¤‘ë³µì¡°í•© + ìˆœì—´ë¡œ êµ¬í•œ "ë©˜í†  ë°°ì—´ì˜ ì¡°í•©" ì¤‘ì—ì„œ, ê°€ì¥ ì‘ì€ ëŒ€ê¸° ì‹œê°„
        answer = min(answer, result)

    return answer