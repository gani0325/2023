"""
[1091] ì¹´ë“œ ì„ê¸°

ğŸ’› ë¬¸ì œ
ì§€ë¯¼ì´ëŠ” ì¹´ì§€ë…¸ì˜ ë”œëŸ¬ì´ê³ , ì§€ê¸ˆ 3ëª…ì˜ í”Œë ˆì´ì–´(0, 1, 2)ê°€ ìˆë‹¤.
ì´ ê²Œì„ì€ Nê°œì˜ ì¹´ë“œë¥¼ ì´ìš©í•œë‹¤. (0 ~ N-1ë²ˆ)

ì¼ë‹¨ ì§€ë¯¼ì´ëŠ” ì¹´ë“œë¥¼ ëª‡ ë²ˆ ì„ì€ ë‹¤ìŒì—, ê·¸ê²ƒì„ í”Œë ˆì´ì–´ë“¤ì—ê²Œ ë‚˜ëˆ„ì–´ ì¤€ë‹¤.
0ë²ˆì§¸ ìœ„ì¹˜ì— ìˆë˜ ì¹´ë“œê°€ í”Œë ˆì´ì–´ 0ì—ê²Œ ê°€ê³ ,
1ë²ˆì§¸ ìœ„ì¹˜ì— ìˆë˜ ì¹´ë“œëŠ” í”Œë ˆì´ì–´ 1ì—ê²Œ ê°€ê³ ,
2ë²ˆì§¸ ìœ„ì¹˜ì— ìˆë˜ ì¹´ë“œëŠ” í”Œë ˆì´ì–´ 2ì—ê²Œ ê°€ê³ ,
3ë²ˆì§¸ ìœ„ì¹˜ì— ìˆë˜ ì¹´ë“œëŠ” í”Œë ˆì´ì–´ 0ì—ê²Œ ê°€ê³ ,
ì´ëŸ°ì‹ìœ¼ë¡œ ì¹´ë“œë¥¼ ë‚˜ëˆ„ì–´ ì¤€ë‹¤. í•˜ì§€ë§Œ, ì§€ë¯¼ì´ëŠ” ì•½ê°„ ì‚¬ê¸°ë¥¼ ì¹˜ë ¤ê³  í•œë‹¤.

ì§€ë¯¼ì´ëŠ” ì²˜ìŒì— ì¹´ë“œë¥¼ ì„ê¸° ì „ì— ì¹´ë“œì˜ ìˆœì„œë¥¼ ì•Œê³  ìˆê³ ,
ì´ ì •ë³´ë¥¼ ì´ìš©í•´ ê° ì¹´ë“œê°€ íŠ¹ì •í•œ í”Œë ˆì´ì–´ì—ê²Œ ë³´ë‚´ì§€ê²Œ í•  ê²ƒì´ë‹¤.

ì¹´ë“œë¥¼ í•œ ë²ˆ ì„ì„ ë•ŒëŠ” ì£¼ì–´ì§„ ë°©ë²•ì„ ì´ìš©í•´ì„œë§Œ ì„ì„ ìˆ˜ ìˆê³ ,
ì´ ë°©ë²•ì€ ê¸¸ì´ê°€ Nì¸ ìˆ˜ì—´ Së¡œ ì£¼ì–´ì§„ë‹¤.
ì¹´ë“œë¥¼ í•œ ë²ˆ ì„ê³  ë‚˜ë©´ ië²ˆì§¸ ìœ„ì¹˜ì— ìˆë˜ ì¹´ë“œëŠ” S[i]ë²ˆì§¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ê²Œ ëœë‹¤.

ê° ì¹´ë“œê°€ ì–´ë–¤ í”Œë ˆì´ì–´ì—ê²Œ ê°€ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ëŠ” ê¸¸ì´ê°€ Nì¸ ìˆ˜ì—´ Pë¡œ ì£¼ì–´ì§„ë‹¤.
ë§¨ ì²˜ìŒ ië²ˆì§¸ ìœ„ì¹˜ì— ìˆë˜ ì¹´ë“œë¥¼ ìµœì¢…ì ìœ¼ë¡œ í”Œë ˆì´ì–´ P[i] ì—ê²Œ ë³´ë‚´ì•¼í•œë‹¤.

ì§€ë¯¼ì´ê°€ ëª©ì ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì¹´ë“œ ì„ëŠ” íšŸìˆ˜ì˜ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

ğŸ’š ì…ë ¥
ì²«ì§¸ ì¤„ì— Nì´ ì£¼ì–´ì§„ë‹¤. Nì€ 3ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 48ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ 3ì˜ ë°°ìˆ˜ì´ë‹¤.
ë‘˜ì§¸ ì¤„ì— ê¸¸ì´ê°€ Nì¸ ìˆ˜ì—´ Pê°€ ì£¼ì–´ì§„ë‹¤. ìˆ˜ì—´ Pì— ìˆëŠ” ìˆ˜ëŠ” 0, 1, 2 ì¤‘ í•˜ë‚˜ì´ë‹¤.
ì…‹ì§¸ ì¤„ì— ê¸¸ì´ê°€ Nì¸ ìˆ˜ì—´ Sê°€ ì£¼ì–´ì§„ë‹¤. ìˆ˜ì—´ Sì— ìˆëŠ” ìˆ˜ëŠ” ëª¨ë‘ N-1ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìì—°ìˆ˜ ë˜ëŠ” 0ì´ê³  ì¤‘ë³µë˜ì§€ ì•ŠëŠ”ë‹¤.

ğŸ’™ ì¶œë ¥
ì²«ì§¸ ì¤„ì— ëª‡ ë²ˆ ì„ì–´ì•¼ í•˜ëŠ”ì§€ ì¶œë ¥í•œë‹¤.
ë§Œì•½, ì„ì–´ë„ ì„ì–´ë„ ì¹´ë“œë¥¼ í•´ë‹¹í•˜ëŠ” í”Œë ˆì´ì–´ì—ê²Œ ì¤„ ìˆ˜ ì—†ë‹¤ë©´, -1ì„ ì¶œë ¥í•œë‹¤.
"""

# Nê°œì˜ ì¹´ë“œ
n = int(input())
# ê¸¸ì´ê°€ Nì¸ ìˆ˜ì—´ P (0, 1, 2 ì¤‘ í•˜ë‚˜)
p = list(map(int, input().split()))
# ê¸¸ì´ê°€ Nì¸ ìˆ˜ì—´ S
s = list(map(int, input().split()))

result_temp = [[] for _ in range(3)]
p_temp = [[] for _ in range(3)]
s_temp = [[] for _ in range(n)]

# ì²˜ìŒ ì¹´ë“œ
init_card = [i for i in range(n)]

# ì •ë‹µ ì¹´ë“œ ë°°ì—´ => n = 6 ì¼ ë•Œ [[0, 3], [1, 4], [2, 5]]
for i in range(n):
    result_temp[i % 3].append(i)

# p ìˆ˜ì—´ëŒ€ë¡œ ì›í•˜ëŠ” ì¹´ë“œ ë°°ì—´ ë¨¼ì € ìƒì„± => n = 6 ì¼ ë•Œ [[0, 3], [1, 4], [2, 5]]
for i in range(n):
    p_temp[p[i]].append(init_card[i])

# s ìˆ˜ì—´ëŒ€ë¡œ ì¹´ë“œ ì„ê¸°
result = 0


def s_card(s_temp):
    ss_temp = [-1 for _ in range(n)]

    for i in range(n):
        ss_temp[s[i]] = s_temp[i]
    return ss_temp


# ì²˜ìŒì—ëŠ” ê·¸ëƒ¥ ì„ì–´ìš”
ss_temp1 = s_card(init_card)
ss_temp2 = s_card(ss_temp1)

# s ìˆ˜ì—´ëŒ€ë¡œ í•œ í›„ ì¹´ë“œ ë‚˜ëˆ„ê¸°
print(ss_temp1)
print(ss_temp2)


def p_card(ss_temp):
    pp_temp = [[] for _ in range(3)]
    for i in range(n):
        pp_temp[p[i]].append(ss_temp[i])

    sss_temp = [[] for _ in range(3)]

    for i in range(n):
        sss_temp[i % 3].append(ss_temp[i])
    return sss_temp


sss_temp1 = p_card(ss_temp2)

print(sss_temp1, p_temp)
if sss_temp1 == p_temp:
    print("good")

print(result)
